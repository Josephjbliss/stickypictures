@dark-gray:color('#a7a9ac');

nav {
  position: relative;

  .inner {
    width: 240px;  
    margin:0 auto;
    
    @media (min-width: 414px) {
      width:auto;
    }
  }
    

  a {
    &.active {
      border-bottom: 1px solid black;
    }
  }
  .tags-toggle-btn {
    position: absolute;
    right:0;
    top:8px;
    color: @dark-gray;
    text-decoration: none;
    border-bottom: 0;
    background:none;
    &:hover {
      text-decoration: none;
      border-bottom: 0;
      background:none;
    }
  }
  .tags-toggle-btn.open {
    color:black;
    text-decoration: none;
    border-bottom: 0;
    background:none;  
  }
}

.no-touch nav .tags-toggle-btn {
    &:hover {
    color:black;
    text-decoration: none;
    border-bottom: 0;
    background:none;
  }
}

.tag-filters-wrap {
  display:none;
  position: relative;
  background-color: @dark-gray;
  text-align: center;
  font-size: 16px;
  padding: 8px 0;
  line-height: 27px;

  .tag-list-el {
    display:inline-block;
  }
  a {
    color: white;
    text-decoration: none;
    margin: 0 16px;
    
    &.is-checked {
      color:black;
    }
  }
}

.password-form--wrap {
  padding:30px 0;
  width:80%;
  margin-left:10%;
}


// Slider styles
.swiper-container {
  .swiper-slide {

    &:hover {
      &.swiper-slide-active .caption  {
        opacity:1;
        z-index: 300;       
      }
    }
    
    img {
      width:100%;
      height:auto;
    }
    &.slide-has-link {
      cursor:pointer;
    }
  }

  .swiper-button-prev, .swiper-button-next {
    background-size: 44px 100%;
    // text-shadow:0px 0px 5px rgba(0, 0, 0, 0.3);
    @shadow : 0px 0px 3px rgba(0, 0, 0, 0.3);
    filter: drop-shadow( @shadow ); /* Same syntax as box-shadow */    
    opacity:.7;
    @media (min-width:768px) {
      height:44px * .85;
      width:27px * .85;
      background-size:44px * .85;
    }
    html.touch & {
      display:none;
    }
    @media (max-width:479px) {
      display:none;
    }
  }
  .swiper-button-prev {
    background-image:url('../images/chevron-thin-left.white.svg');
    left:8px;
  }

  .swiper-button-next   {
    background-image:url('../images/chevron-thin-right.white.svg');
    right:8px;
  }

  .caption {
    width: 100%;
    position: absolute;
    bottom:0;
    left:0;

    opacity:0;
    // z-index: -1;
    
    transition: opacity .3s ease;
    @media (max-width:479px) {
      opacity:1;
      z-index: 3;      
    }
    html.touch & {
      opacity:1;
      z-index: 3;      
    }

  }
} // .swiper-container

// Masonry-related styles + img stuff
@transition : opacity .3s ease;
.home-project,
.project-masonry-element {
  transition: @transition;
  img.lazy {
    transition: @transition;
    display:block;
    max-width:100%;
    width:100%;
    height:auto;
  }
}

.masonry-element.lazy-loaded {
  img {
    opacity:1;
    transition: @transition;    
  }
}


img.lazy {
  transition: @transition;
  display:block;
  max-width:100%;
  width:100%;
  height:auto;
}

// Lazy-loading / FOUC
// Prevent FOUC if opacity class is present 
// html.opacity {
//   .masonry,
//   .project-masonry,
//   .work-page-masonry {
//     img {
//       opacity: 0;
//       filter: alpha(opacity=0);   
//     }
//   }
// }